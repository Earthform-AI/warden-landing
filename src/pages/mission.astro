---
import { meta, footer, nav } from '../site.config';
import { missionCopy } from '../mission.config';
import { TechNavigation } from '../components/TechNavigation.tsx';
import Analytics from '@vercel/analytics/astro';
import SpeedInsights from '@vercel/speed-insights/astro';

const { origin, method, findings, direction, closing } = missionCopy;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>About | Earthform Research Lab</title>
    <meta name="description" content="How Earthform started, how we work, and what we've found — 111 experiments across non-associative algebra, protein analysis, music theory, and algebraic repair." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="/src/styles/global.css" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="About | Earthform Research Lab" />
    <meta property="og:description" content="How Earthform started, how we work, and what we've found." />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="About | Earthform Research Lab" />
    <meta property="twitter:description" content="How Earthform started, how we work, and what we've found." />
    <meta name="keywords" content="earthform, research lab, non-associative algebra, octonions, fano plane, protein analysis, composable architecture" />
    <meta name="author" content={meta.author} />
    <link rel="canonical" href={meta.url + "/mission"} />
  </head>
  <body class="font-sans bg-black text-white">
    <TechNavigation links={nav.links} client:load />

    <main class="pt-20">

      <!-- ═══════════════════════════════════════════ -->
      <!-- SECTION 1: ORIGIN STORY                     -->
      <!-- ═══════════════════════════════════════════ -->
      <section class="py-24 relative">
        <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0); background-size: 40px 40px;"></div>

        <div class="max-w-3xl mx-auto px-4 relative z-10">
          <h1 class="text-4xl md:text-5xl font-extrabold mb-12 bg-gradient-to-r from-white via-blue-200 to-green-200 bg-clip-text text-transparent leading-tight">
            {missionCopy.title}
          </h1>

          <div class="space-y-6 text-lg text-gray-300 leading-relaxed">
            {origin.paragraphs.map((p: string) => (
              <p>{p}</p>
            ))}
          </div>

          <!-- Father's quote -->
          <blockquote class="my-12 border-l-4 border-blue-500/60 pl-6 py-4">
            <p class="text-2xl md:text-3xl font-light italic text-blue-200 leading-relaxed">
              &ldquo;{origin.quote}&rdquo;
            </p>
          </blockquote>

          <div class="space-y-6 text-lg text-gray-300 leading-relaxed">
            {origin.afterQuote.map((p: string, i: number) => (
              <p class={i === origin.afterQuote.length - 1 ? "text-blue-200 font-medium" : ""}>
                {p}
              </p>
            ))}
          </div>
        </div>
      </section>

      <!-- ═══════════════════════════════════════════ -->
      <!-- SECTION 2: HOW WE WORK                     -->
      <!-- ═══════════════════════════════════════════ -->
      <section class="py-24 bg-gradient-to-b from-black via-gray-950 to-black">
        <div class="max-w-4xl mx-auto px-4">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 text-white">
            {method.heading}
          </h2>
          <p class="text-lg text-gray-400 mb-4">{method.intro}</p>
          <p class="text-gray-400 leading-relaxed mb-12">{method.description}</p>

          <!-- Principle cards -->
          <div class="grid md:grid-cols-3 gap-6 mb-12">
            {method.principles.map((p: { icon: string; title: string; text: string }) => (
              <div class="bg-gray-900/60 rounded-xl p-6 border border-gray-700/50">
                <div class="text-3xl mb-3">{p.icon}</div>
                <h3 class="text-lg font-bold text-white mb-2">{p.title}</h3>
                <p class="text-sm text-gray-400 leading-relaxed">{p.text}</p>
              </div>
            ))}
          </div>

          <blockquote class="border-l-4 border-green-500/60 pl-6 py-2">
            <p class="text-lg italic text-green-200">&ldquo;{method.quote}&rdquo;</p>
            <p class="text-sm text-gray-500 mt-2">{method.attribution}</p>
          </blockquote>
        </div>
      </section>

      <!-- ═══════════════════════════════════════════ -->
      <!-- SECTION 3: WHAT WE'VE FOUND                 -->
      <!-- ═══════════════════════════════════════════ -->
      <section class="py-24">
        <div class="max-w-4xl mx-auto px-4">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 text-white">
            {findings.heading}
          </h2>
          <p class="text-gray-400 text-lg mb-12 max-w-3xl leading-relaxed">
            {findings.intro}
          </p>

          <div class="space-y-6">
            {findings.threads.map((t: { icon: string; name: string; experiments: string; color: string; summary: string; result: string; link: string }) => (
              <a href={t.link} class="group block">
                <div class="bg-gray-900/60 rounded-xl p-6 border border-gray-700/50 hover:border-gray-600/80 transition-all duration-300">
                  <div class="flex items-start gap-4">
                    <span class="text-3xl shrink-0">{t.icon}</span>
                    <div class="flex-1 min-w-0">
                      <div class="flex flex-wrap items-baseline gap-3 mb-2">
                        <h3 class="text-lg font-bold text-white group-hover:text-blue-200 transition-colors">{t.name}</h3>
                        <span class="text-xs text-gray-500 font-mono">{t.experiments}</span>
                      </div>
                      <p class="text-sm text-gray-400 leading-relaxed mb-3">{t.summary}</p>
                      <p class="text-sm text-green-300/80 font-medium">{t.result}</p>
                    </div>
                  </div>
                </div>
              </a>
            ))}
          </div>
        </div>
      </section>

      <!-- ═══════════════════════════════════════════ -->
      <!-- SECTION 4: WHERE THIS IS GOING              -->
      <!-- ═══════════════════════════════════════════ -->
      <section class="py-24 bg-gradient-to-b from-black via-gray-950 to-black">
        <div class="max-w-3xl mx-auto px-4">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 text-white">
            {direction.heading}
          </h2>
          <p class="text-gray-400 text-lg mb-12 leading-relaxed">
            {direction.intro}
          </p>

          <div class="space-y-8">
            {direction.steps.map((s: { label: string; title: string; description: string }, i: number) => (
              <div class="flex gap-6">
                <div class="flex flex-col items-center shrink-0">
                  <div class="w-10 h-10 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center text-sm font-bold text-gray-300">
                    {i + 1}
                  </div>
                  {i < direction.steps.length - 1 && (
                    <div class="w-px flex-1 bg-gray-700/50 mt-2"></div>
                  )}
                </div>
                <div class="pb-8">
                  <span class="text-xs font-mono text-gray-500 uppercase tracking-wider">{s.label}</span>
                  <h3 class="text-xl font-bold text-white mt-1 mb-2">{s.title}</h3>
                  <p class="text-gray-400 leading-relaxed">{s.description}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      <!-- ═══════════════════════════════════════════ -->
      <!-- SECTION 5: CLOSING CTA                      -->
      <!-- ═══════════════════════════════════════════ -->
      <section class="py-24">
        <div class="max-w-3xl mx-auto px-4 text-center">
          <h2 class="text-3xl font-bold mb-6 text-white">{closing.heading}</h2>
          <p class="text-gray-400 text-lg leading-relaxed mb-10 max-w-2xl mx-auto">
            {closing.text}
          </p>

          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a
              href={closing.cta.join.href}
              class="inline-flex items-center justify-center gap-2 px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-medium rounded-lg transition-colors"
            >
              {closing.cta.join.text}
            </a>
            <a
              href={closing.cta.discord.href}
              target="_blank"
              rel="noopener"
              class="inline-flex items-center justify-center gap-2 px-8 py-3 border border-gray-600 hover:border-gray-400 text-gray-300 hover:text-white font-medium rounded-lg transition-colors"
            >
              {closing.cta.discord.text}
            </a>
          </div>
        </div>
      </section>

    </main>
    <Analytics />
    <SpeedInsights />
    <footer class="bg-gray-950 text-gray-400 py-8 text-center text-sm">
      <div>{footer.text}</div>
      <nav class="mt-2 flex justify-center gap-4">
        {footer.links.map((link: { label: string; href: string }) => (
          <a href={link.href} class="hover:text-white underline transition-all duration-150">{link.label}</a>
        ))}
      </nav>
    </footer>
  </body>
</html>
