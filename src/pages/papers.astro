---
import { meta, footer, nav } from '../site.config';
import { papers } from '../papers.config';
import { TechNavigation } from '../components/TechNavigation.tsx';
import Analytics from '@vercel/analytics/astro';
import SpeedInsights from '@vercel/speed-insights/astro';
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Papers | Earthform Research Lab</title>
    <meta name="description" content="Research papers from Earthform: spectral protein decomposition, QPS algebra derivation, and more." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="/src/styles/global.css" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Papers | Earthform Research Lab" />
    <meta property="og:description" content="Research papers from Earthform: spectral protein decomposition, QPS algebra derivation." />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="Papers | Earthform Research Lab" />
    <meta name="author" content={meta.author} />
    <link rel="canonical" href={meta.url + "/papers"} />
  </head>
  <body class="font-sans bg-black text-white">
    <TechNavigation links={nav.links} client:load />
    <main class="min-h-screen pt-24 pb-16 px-4">
      <div class="max-w-4xl mx-auto">

        <!-- Header -->
        <div class="mb-16">
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-blue-900/40 rounded-full text-blue-300 text-sm font-medium mb-6">
            ðŸ“„ Preprints
          </div>
          <h1 class="text-4xl md:text-5xl font-extrabold mb-6 bg-gradient-to-r from-white via-blue-200 to-green-200 bg-clip-text text-transparent">
            Papers
          </h1>
          <p class="text-lg text-gray-400 leading-relaxed max-w-3xl">
            Full manuscripts from our research. These are preprints â€” we're actively seeking peer review and journal placement.
            PDFs are available for download.
          </p>
        </div>

        <!-- Papers List -->
        <div class="space-y-12">
          {papers.map((paper) => (
            <article class="bg-gray-900/60 rounded-2xl p-8 border border-gray-700/50">
              <!-- Status badge -->
              <div class="flex items-center gap-3 mb-4">
                <span class={`text-xs font-mono px-3 py-1 rounded-full border ${
                  paper.status === 'published' 
                    ? 'bg-green-900/30 border-green-700/50 text-green-300'
                    : paper.status === 'submitted'
                    ? 'bg-yellow-900/30 border-yellow-700/50 text-yellow-300'
                    : 'bg-blue-900/30 border-blue-700/50 text-blue-300'
                }`}>
                  {paper.status}
                </span>
                <span class="text-sm text-gray-500">{paper.date}</span>
              </div>

              <!-- Title -->
              <h2 class="text-xl md:text-2xl font-bold text-white mb-3 leading-tight">
                {paper.title}
              </h2>

              <!-- Authors -->
              <p class="text-sm text-gray-400 mb-6">
                {paper.authors.join(', ')}
              </p>

              <!-- Abstract -->
              <div class="mb-6">
                <h3 class="text-sm font-medium text-gray-500 uppercase tracking-wider mb-2">Abstract</h3>
                <p class="text-gray-300 text-sm leading-relaxed">
                  {paper.abstract}
                </p>
              </div>

              <!-- Tags -->
              <div class="flex flex-wrap gap-2 mb-6">
                {paper.tags.map((tag) => (
                  <span class="text-xs px-2 py-1 bg-gray-800/80 text-gray-400 rounded-full border border-gray-700/50">
                    {tag}
                  </span>
                ))}
              </div>

              <!-- Actions -->
              <div class="flex flex-wrap items-center gap-4 pt-4 border-t border-gray-800/50">
                <a
                  href={paper.pdf}
                  target="_blank"
                  rel="noopener"
                  class="inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors"
                >
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                  Download PDF
                </a>
                <a
                  href={paper.threadLink}
                  class="inline-flex items-center gap-2 text-sm text-gray-400 hover:text-white transition-colors"
                >
                  Related research: {paper.thread} â†’
                </a>
              </div>
            </article>
          ))}
        </div>

        <!-- Citation note -->
        <div class="mt-16 bg-gray-900/40 rounded-xl p-6 border border-gray-700/50">
          <h3 class="font-bold text-gray-300 mb-2">Citation</h3>
          <p class="text-sm text-gray-400 leading-relaxed">
            These papers are preprints and may be cited with the author name, title, and year.
            If you'd like to discuss the work or have feedback, reach out via
            <a href="https://discord.gg/tMK9S68bjQ" target="_blank" rel="noopener" class="text-blue-400 hover:text-blue-300 underline">Discord</a>
            or <a href="/#join" class="text-blue-400 hover:text-blue-300 underline">email</a>.
          </p>
        </div>

      </div>
    </main>
    <Analytics />
    <SpeedInsights />
    <footer class="bg-gray-950 text-gray-400 py-8 text-center text-sm">
      <div>{footer.text}</div>
      <nav class="mt-2 flex justify-center gap-4">
        {footer.links.map((link: { label: string; href: string }) => (
          <a href={link.href} class="hover:text-white underline transition-all duration-150">{link.label}</a>
        ))}
      </nav>
    </footer>
  </body>
</html>
